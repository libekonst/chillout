!function(t){var e={};function o(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);class s{static makeActive(t={}){const e=t.classList.item(0),o=i.find(t=>t.baseClass===e).type;console.log(o),"radio"===o&&s.makeRadioActive(t.getAttribute("id"))}static makeRadioActive(t){const e=document.getElementById(t.id);e.classList.contains("radio-item-active")||(e.classList.add("radio-item-active"),s.makeButtonActive())}static makeRadioIdle(t){document.getElementById(t.id).classList.remove("radio-item-active"),s.makeButtonIdle()}static killOtherActive(t){const e=t.classList,o=t.classList.item(0);if(!e.contains(`${o}-active`)){const t=document.getElementsByClassName(`${o}-active`);for(const e of t)e.classList.remove(`${o}-active`)}}static makeButtonActive(){const t=document.getElementById("play-button"),e=document.getElementById("play-button-wrapper");t.classList.add("play-button-active"),e.classList.add("play-button-wrapper-active")}static makeButtonIdle(){const t=document.getElementById("play-button"),e=document.getElementById("play-button-wrapper");t.classList.remove("play-button-active"),e.classList.remove("play-button-wrapper-active")}}const i=[{type:"radio",baseClass:"radio-item"},{type:"play-button",baseClass:"play-button"}];class n{constructor(t,e,o,s,i){this.name=t,this.id=e,this.img=o,this.src=s,this.type=i,this.render(),console.log(this),document.getElementById(this.id).addEventListener("mousedown",()=>{this.play()})}render(){const t=document.createElement("div");t.setAttribute("class","radio-image"),t.style.backgroundImage=`url(${this.img})`;const e=document.createElement("li");e.setAttribute("class","radio-item"),e.setAttribute("id",this.id),e.setAttribute("data-name",this.name),e.setAttribute("data-content","pause"),e.appendChild(t),document.getElementById(`${this.type}-radios`).appendChild(e)}play(){const t=document.getElementsByTagName("audio")[0];console.log(`Loading ${this.name}...`),this.setAudioSource(t),t.paused?this.startAudio(t):this.stopAudio(t),console.log(`Player paused? ${t.paused}`)}setAudioSource(t){t.src!==this.src&&(t.src=this.src,s.killOtherActive(document.getElementById(this.id)))}startAudio(t){s.makeRadioActive(this),t.play().then(()=>console.log(`Playing ${this.name}...`)).catch(t=>{console.log(`Failed to load radio... :( ${t}.`),console.log(this),s.makeRadioIdle(this)})}stopAudio(t){s.makeRadioIdle(this),t.pause()}}!function(){const t=new XMLHttpRequest;t.open("GET","https://kostaslib.github.io/chillout/src/radios.json"),t.responseType="json",t.send(),t.onload=(()=>{!function(t){const e=t.response;console.log(`Radio data: ${e}`);for(let t of e.music)new n(t.name,t.id,t.img,t.source,"music");for(const t of e.news)new n(t.name,t.id,t.img,t.source,"news")}(t)})}();const a=function(t,e){const o=document.getElementsByClassName(t);let s=[];!function(){if(o.length<1)throw new Error(`No elements of class '${t}' found.`);for(let t of o)if(!t.hasAttribute(e))throw new Error(`No ${e} assigned to this element.`)}();for(let t of o)s.push(t.getAttribute(e));return s}("radio-item","id");console.log(`Radio IDs: ${a}`),function(){const t=document.getElementById("play-button");t.addEventListener("mousedown",function(){t.classList.contains("play-button-active")&&(document.querySelector(".radio-item.radio-item-active").classList.remove("radio-item-active"),s.makeButtonIdle())})}(),function(){const t=document.getElementById("play-button"),e=document.getElementById("play-button-wrapper"),o=document.getElementsByTagName("audio")[0];t.addEventListener("mousedown",()=>{if(""!==o.src)if(o.paused){o.play(),t.classList.add("play-button-active"),e.classList.add("play-button-wrapper-active");let s=radioSources.find(t=>t.source===o.src).name;document.getElementById(s).classList.add("radio-item-active")}else o.pause(),t.classList.remove("play-button-active"),e.classList.remove("play-button-wrapper-active");else alert("Select a radio first!")})}()}]);